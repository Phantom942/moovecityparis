<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devis Gratuit Transport avec Chauffeur Paris | Moove City - Intervention dans l'Heure</title>
    <meta name="description" content="Devis gratuit instantan√© pour transport avec chauffeur, d√©m√©nagement et livraison express √† Paris et √éle-de-France. Intervention dans l'heure, v√©hicules 6 √† 20 m¬≥. Paiement esp√®ces, CB, crypto. R√©servez en 3 clics sans compte. Obtenez votre devis maintenant !">
    <meta name="keywords" content="devis transport gratuit, devis d√©m√©nagement Paris, devis livraison express, transport avec chauffeur Paris, devis course urgente, transport 6m3 Paris, transport 9m3 Paris, transport 12m3 Paris, transport 20m3 Paris, intervention dans l'heure Paris, livraison rapide Paris, d√©m√©nagement express Paris, transport professionnel √éle-de-France, 75, 91, 92, 93, 94, 95">
    <meta name="author" content="Moove City">
    <meta name="robots" content="index, follow">
    <meta name="language" content="fr">
    <meta name="geo.region" content="FR-75">
    <meta name="geo.placename" content="Paris">
    <meta name="geo.position" content="48.8566;2.3522">
    <meta name="ICBM" content="48.8566, 2.3522">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.moovecity.fr/booking.html">

    <!-- Open Graph -->
    <meta property="og:title" content="Devis Gratuit Transport avec Chauffeur Paris | Moove City">
    <meta property="og:description" content="Devis gratuit instantan√© pour transport avec chauffeur, d√©m√©nagement et livraison express √† Paris. Intervention dans l'heure, v√©hicules 6 √† 20 m¬≥. R√©servez en 3 clics.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.moovecity.fr/booking.html">
    <meta property="og:site_name" content="Moove City">
    <meta property="og:image" content="https://www.moovecity.fr/images/hero-moove-city.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Moove City - Devis gratuit transport avec chauffeur Paris">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Devis Gratuit Transport avec Chauffeur Paris | Moove City">
    <meta name="twitter:description" content="Devis gratuit instantan√© pour transport avec chauffeur, d√©m√©nagement et livraison express √† Paris. Intervention dans l'heure.">
    <meta name="twitter:image" content="https://www.moovecity.fr/images/hero-moove-city.jpg">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Moove City",
        "description": "Transport professionnel avec chauffeur, d√©m√©nagement, livraison express et courses dans toute la r√©gion parisienne. Intervention dans l'heure, rapidit√© garantie. Paiement esp√®ces, carte bancaire, cryptomonnaie.",
        "url": "https://www.moovecity.fr/",
        "telephone": "+33751213255",
        "email": "contact@moovecity.fr",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Paris",
            "addressRegion": "√éle-de-France",
            "postalCode": "75000",
            "addressCountry": "FR"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "48.8566",
            "longitude": "2.3522"
        },
        "openingHours": "Mo-Su 00:00-23:59",
        "priceRange": "‚Ç¨‚Ç¨",
        "paymentAccepted": ["Cash", "CreditCard", "Cryptocurrency"],
        "currenciesAccepted": "EUR",
        "serviceArea": {
            "@type": "GeoCircle",
            "geoMidpoint": {
                "@type": "GeoCoordinates",
                "latitude": 48.8566,
                "longitude": 2.3522
            },
            "geoRadius": "50000"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Services de transport et d√©m√©nagement",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Devis gratuit transport avec chauffeur",
                        "description": "Devis instantan√© en ligne pour transport, d√©m√©nagement et livraison express"
                    }
                }
            ]
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "5",
            "reviewCount": "2500",
            "bestRating": "5",
            "worstRating": "1"
        },
        "review": [
            {
                "@type": "Review",
                "author": {
                    "@type": "Person",
                    "name": "Jean P."
                },
                "datePublished": "2025-12-12",
                "reviewBody": "Devis obtenu en quelques secondes, tr√®s simple et rapide. Service client r√©actif et professionnel.",
                "reviewRating": {
                    "@type": "Rating",
                    "ratingValue": "5",
                    "bestRating": "5"
                }
            }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Devis Gratuit Transport avec Chauffeur Paris",
        "description": "Demandez votre devis gratuit instantan√© pour transport avec chauffeur, d√©m√©nagement et livraison express √† Paris et √éle-de-France",
        "url": "https://www.moovecity.fr/booking.html",
        "mainEntity": {
            "@type": "Service",
            "name": "Devis Transport avec Chauffeur",
            "provider": {
                "@type": "LocalBusiness",
                "name": "Moove City"
            }
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Accueil",
                    "item": "https://www.moovecity.fr/"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Devis Gratuit",
                    "item": "https://www.moovecity.fr/booking.html"
                }
            ]
        }
    }
    </script>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WC9EEBKP2E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WC9EEBKP2E');
    </script>

    <!-- Performance Optimizations - Preconnect & Prefetch -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://maps.googleapis.com">
    <link rel="preconnect" href="https://maps.gstatic.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Humans.txt -->
    <link rel="author" href="/humans.txt">

    <style>
        .container {
            width: min(1080px, 92%);
            margin: 0 auto;
            position: relative;
        }

        :root {
            --brand-dark: #0f172a;
            --brand-primary: #10b981;
            --brand-secondary: #0ea5e9;
            --brand-accent: #22d3ee;
            --text-primary: #111827;
            --text-secondary: #4b5563;
            --surface: #ffffff;
            --surface-muted: #f1f5f9;
            --border: #e2e8f0;
            --radius-lg: 20px;
            --radius-md: 14px;
            --shadow-sm: 0 10px 30px rgba(15, 23, 42, 0.08);
            --shadow-md: 0 20px 45px rgba(15, 23, 42, 0.12);
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--text-primary);
            background: linear-gradient(180deg, #f8fafc 0%, #ecfdf5 100%);
            min-height: 100vh;
        }

        a {
            color: inherit;
        }

        .topbar {
            background: rgba(15, 23, 42, 0.9);
            color: white;
            backdrop-filter: blur(8px);
        }

        .topbar .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.5rem;
            padding: 1.25rem 0;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            color: white;
            text-decoration: none;
            font-weight: 600;
            letter-spacing: -0.01em;
        }

        .logo img {
            width: 52px;
            height: 52px;
            display: block;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            margin: 0;
            padding: 0;
        }

        nav a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }

        nav a:hover {
            color: white;
        }

        .hero {
            padding: 72px 0 48px;
            display: flex;
            justify-content: center;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
            gap: 48px;
            align-items: center;
        }

        .hero h1 {
            font-size: clamp(2.2rem, 4vw, 3rem);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            color: var(--brand-dark);
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .hero-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(15, 23, 42, 0.05);
            color: var(--brand-dark);
            padding: 0.6rem 1rem;
            border-radius: 999px;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.9rem 1.8rem;
            border-radius: 999px;
            background: linear-gradient(130deg, var(--brand-primary), #34d399);
            color: white;
            text-decoration: none;
            font-weight: 600;
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .hero-cta:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .hero-cta svg {
            width: 22px;
            height: 22px;
        }

        .form-wrapper {
            display: grid;
            grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
            gap: 32px;
            margin: 0 auto 56px;
        }

        .card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: 40px;
            box-shadow: var(--shadow-sm);
        }

        .card h2 {
            margin-top: 0;
            margin-bottom: 1.5rem;
            font-size: 1.6rem;
            color: var(--brand-dark);
        }

        .form-grid {
            display: grid;
            gap: 22px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text-primary);
            margin-bottom: 0.6rem;
        }

        input, select, textarea {
            width: 100%;
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 0.95rem 1rem;
            font-size: 1rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            background: white;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--brand-secondary);
            box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.12);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(120deg, var(--brand-secondary), var(--brand-primary));
            color: white;
            border: none;
            border-radius: 14px;
            padding: 1rem 1.8rem;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: var(--shadow-sm);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .privacy-note {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .contact-card {
            display: grid;
            gap: 24px;
            background: radial-gradient(circle at top right, rgba(14, 165, 233, 0.1), transparent 60%), white;
        }

        .contact-card h3 {
            margin: 0;
            font-size: 1.4rem;
            color: var(--brand-dark);
        }

        .contact-card p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .contact-list {
            display: grid;
            gap: 18px;
        }

        .contact-item {
            display: grid;
            gap: 0.4rem;
        }

        .contact-item span {
            font-weight: 600;
            color: var(--text-primary);
        }

        .contact-actions {
            display: grid;
            gap: 0.75rem;
        }

        .btn-outline {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.85rem 1.6rem;
            border-radius: 14px;
            border: 1.5px solid rgba(15, 23, 42, 0.1);
            background: white;
            color: var(--brand-dark);
            font-weight: 600;
            text-decoration: none;
            transition: border-color 0.2s ease, transform 0.2s ease;
        }

        .btn-outline:hover {
            border-color: rgba(14, 165, 233, 0.4);
            transform: translateY(-2px);
        }

        .info-section {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 32px;
            margin: 0 auto 56px;
        }

        .vehicle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 18px;
        }

        .vehicle-card {
            border: 1px solid rgba(15, 23, 42, 0.08);
            border-radius: 16px;
            padding: 1.4rem;
            background: #f8fafc;
            transition: transform 0.2s ease, border-color 0.2s ease;
        }

        .vehicle-card:hover {
            transform: translateY(-3px);
            border-color: rgba(14, 165, 233, 0.4);
        }

        .vehicle-card h4 {
            margin: 0 0 0.6rem;
            color: var(--brand-secondary);
            font-size: 1.05rem;
        }

        .vehicle-card p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .bullet-list {
            display: grid;
            gap: 0.9rem;
            margin: 1rem 0 0;
            padding: 0;
            list-style: none;
        }

        .bullet-list li {
            display: inline-flex;
            align-items: flex-start;
            gap: 0.6rem;
            color: var(--text-secondary);
        }

        .bullet-list li::before {
            content: "";
            color: var(--brand-primary);
            font-weight: 700;
        }

        .cta-strip {
            background: linear-gradient(120deg, rgba(14, 165, 233, 0.12), rgba(16, 185, 129, 0.15));
            border-radius: var(--radius-lg);
            padding: 32px 40px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 72px;
        }

        .cta-strip h3 {
            margin: 0 0 0.6rem;
            font-size: 1.4rem;
            color: var(--brand-dark);
        }

        .cta-strip p {
            margin: 0;
            color: var(--text-secondary);
        }

        .cta-strip-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        footer {
            background: var(--brand-dark);
            color: white;
            padding: 60px 0 20px;
            margin: 0;
        }

        footer .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1.8fr 1.5fr 1.2fr 1.2fr 1.5fr;
            gap: 3rem;
            margin-bottom: 2rem;
            align-items: start;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
        }

        .footer-section h3 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .footer-section h4 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1rem;
            font-weight: 600;
        }

        .footer-section p {
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-section ul li {
            margin-bottom: 0.65rem;
        }

        .footer-section ul li a {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .footer-section ul li a:hover {
            color: white;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 2rem;
            text-align: center;
        }

        .footer-bottom p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .social-links a {
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            transform: translateY(-3px);
        }

        @media (max-width: 1200px) {
            .footer-content {
                grid-template-columns: repeat(3, 1fr);
                gap: 2rem;
            }
        }

        @media (max-width: 968px) {
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .footer-content {
                grid-template-columns: 1fr;
                gap: 2.5rem;
            }
        }

        .error-message {
            background: #fee2e2;
            border: 1px solid #fca5a5;
            color: #b91c1c;
            padding: 0.9rem 1.2rem;
            border-radius: 12px;
            margin-top: 1rem;
            text-align: center;
            font-weight: 600;
        }

        /* Animation pour l'affichage du prix */
        @keyframes priceFadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #priceEstimate {
            animation: priceFadeIn 0.3s ease-out;
        }

        @media (max-width: 992px) {
            .hero-grid,
            .form-wrapper,
            .info-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 720px) {
            .topbar .container {
                flex-direction: column;
                align-items: flex-start;
                padding: 1rem 0;
            }

            nav ul {
                gap: 1rem;
                flex-wrap: wrap;
            }

            .card {
                padding: 32px 24px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .cta-strip {
                padding: 28px 24px;
            }
        }
        /* Masquer le logo "Powered by Google" dans l'autocompl√©tion */
        .pac-container::after {
            display: none !important;
            content: none !important;
        }
        
        .pac-logo,
        .pac-logo:after,
        .pac-container .pac-logo,
        .pac-container::after {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            height: 0 !important;
            width: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
        }
    </style>
</head>
<body>
    <!-- Breadcrumb Navigation -->
    <nav aria-label="Fil d'Ariane" class="breadcrumb-nav" style="background: #f8fafc; padding: 12px 0; border-bottom: 1px solid #e2e8f0;">
        <div class="container" style="max-width: 1080px; margin: 0 auto; padding: 0 20px;">
            <ol itemscope itemtype="https://schema.org/BreadcrumbList" style="list-style: none; padding: 0; margin: 0; display: flex; align-items: center; gap: 8px; font-size: 14px; color: #64748b;">
                <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" style="display: inline-flex; align-items: center;">
                    <a href="index.html" itemprop="item" style="color: #0ea5e9; text-decoration: none; transition: color 0.2s;">
                        <span itemprop="name">Accueil</span>
                    </a>
                    <meta itemprop="position" content="1">
                </li>
                <li style="color: #cbd5e1;">/</li>
                <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" style="display: inline-flex; align-items: center; color: #475569; font-weight: 500;">
                    <span itemprop="name">Devis Gratuit</span>
                    <meta itemprop="position" content="2">
                </li>
            </ol>
        </div>
    </nav>
    <header class="topbar">
        <div class="container">
            <a class="logo" href="/">
                <img src="brand/moove-city-logo.svg" alt="Logo Moove City">
                Moove City
            </a>
            <nav aria-label="Navigation principale">
                <ul>
                    <li><a href="/#galerie">Galerie</a></li>
                    <li><a href="/#faq">FAQ</a></li>
                    <li><a href="transport-entreprises.html">B2B</a></li>
                    <li><a href="/#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container hero-grid">
                <div>
                    <h1>Votre devis transport & d√©m√©nagement en moins d‚Äôune minute</h1>
                    <p>Renseignez votre trajet, choisissez un v√©hicule et recevez instantan√©ment un message WhatsApp pr√©-rempli pour √©changer directement avec notre √©quipe disponible 24h/24 et 7j/7.</p>
                    <div class="hero-badges">
                        <span class="badge">üöÄ Devis imm√©diat</span>
                        <span class="badge">üßæ Tarif transparent</span>
                        <span class="badge">Chauffeurs professionnels</span>
                    </div>
                </div>
                <div>
                    <a class="hero-cta" href="https://wa.me/33751213255" target="_blank" rel="noopener noreferrer">
                        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                        </svg>
                        Contacter un conseiller
                    </a>
                </div>
            </div>
        </section>

        <section class="container form-wrapper" id="devis" style="max-width: 700px;">
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 2rem;">Votre demande</h2>
                <form id="quoteForm" action="https://formsubmit.co/contact@moovecity.fr" method="POST" autocomplete="on">
                    <input type="hidden" name="_subject" value="üìã Nouvelle demande de devis depuis moovecity.fr">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table">
                    <input type="hidden" name="_next" value="https://www.moovecity.fr/merci.html">
                    <input type="hidden" name="_autoresponse" value="Merci pour votre demande de devis ! Nous vous recontactons dans les plus brefs d√©lais. L'√©quipe Moove City">
                    <input type="hidden" name="_format" value="plain">
                    <input type="hidden" name="_cc" value="contact@moovecity.fr">
                    <input type="text" name="_honey" id="honey" tabindex="-1" autocomplete="off" style="display:none;">
                    <div class="form-grid">
                        <div class="form-row">
                            <div>
                                <label for="departure">üìç Adresse de d√©part *</label>
                                <input type="text" id="departure" name="departure" placeholder="Ex : 12 rue de la Paix, Paris" autocomplete="street-address" required>
                            </div>
                            <div>
                                <label for="arrival">üìç Adresse d'arriv√©e *</label>
                                <input type="text" id="arrival" name="arrival" placeholder="Ex : 18 avenue de Lyon, Cr√©teil" autocomplete="street-address" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div>
                                <label for="date">üìÖ Date souhait√©e *</label>
                                <input type="date" id="date" name="date" required>
                            </div>
                            <div>
                                <label for="time">üïê Heure souhait√©e *</label>
                                <input type="time" id="time" name="time" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div>
                                <label for="vehicle">üöõ Type de v√©hicule souhait√©</label>
                                <select id="vehicle" name="vehicle">
                                    <option value="">S√©lectionnez un v√©hicule</option>
                                    <option value="URBAN">URBAN ‚Äî 6 m¬≥</option>
                                    <option value="EXPRESS">EXPRESS ‚Äî 9 m¬≥</option>
                                    <option value="PREMIUM">PREMIUM ‚Äî 12 m¬≥</option>
                                    <option value="TITAN">TITAN ‚Äî 20 m¬≥ avec hayon</option>
                                </select>
                            </div>
                            <div>
                                <label for="duration">‚è±Ô∏è Dur√©e estim√©e (heures) *</label>
                                <input type="number" id="duration" name="duration" min="1" max="12" step="0.5" placeholder="Ex: 2" required>
                            </div>
                        </div>
                        <div>
                            <label for="description">üìù Informations compl√©mentaires (optionnel)</label>
                            <textarea id="description" name="description" placeholder="Volume, objets fragiles, ascenseur, contraintes..."></textarea>
                        </div>
                        <!-- Affichage du prix approximatif -->
                        <div id="priceEstimate" style="display: none; background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(16, 185, 129, 0.1)); border: 2px solid rgba(14, 165, 233, 0.3); border-radius: 16px; padding: 1.5rem; margin-top: 1rem; transition: all 0.3s ease;">
                            <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;">
                                <div>
                                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; font-weight: 600;">üí∞ Estimation du prix</div>
                                    <div style="font-size: 2rem; font-weight: 700; color: var(--brand-primary); line-height: 1;">
                                        <span id="estimatedPriceValue">-</span><span style="font-size: 1.2rem; margin-left: 0.25rem;">‚Ç¨</span>
                                    </div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;" id="priceDetails"></div>
                                </div>
                                <div style="font-size: 2.5rem;">üí∏</div>
                            </div>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(14, 165, 233, 0.2); font-size: 0.85rem; color: var(--text-secondary); font-style: italic;">
                                ‚ö†Ô∏è Prix indicatif bas√© sur les informations renseign√©es. Le prix final peut varier selon la distance r√©elle, les contraintes d'acc√®s et les options suppl√©mentaires.
                            </div>
                        </div>
                        <div class="form-row">
                            <div>
                                <label for="name">üë§ Votre nom *</label>
                                <input type="text" id="name" name="name" placeholder="Votre nom complet" autocomplete="name" required>
                            </div>
                            <div>
                                <label for="phone">Votre t√©l√©phone *</label>
                                <input type="tel" id="phone" name="phone" placeholder="06 12 34 56 78" autocomplete="tel" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-footer">
                        <button type="submit" class="btn-primary" onclick="event.preventDefault(); sendQuoteRequest();" style="width: 100%; font-size: 1.1rem; padding: 1.2rem;">
                            Obtenir mon devis gratuit
                        </button>
                        <p class="privacy-note" style="text-align: center; margin-top: 1rem;">
                            Votre demande sera envoy√©e par email et un message WhatsApp s'ouvrira automatiquement.
                        </p>
                    </div>
                    <div id="formError" class="error-message" style="display:none;" role="alert" aria-live="polite"></div>
                </form>
            </div>

            <aside class="card contact-card">
                <div>
                    <h3>Besoin d‚Äôun devis express ?</h3>
                    <p>Notre √©quipe est disponible 7j/7, 24h/24 pour confirmer votre trajet, r√©server un cr√©neau et vous aider √† choisir le v√©hicule adapt√©.</p>
                </div>
                <div class="contact-list">
                    <div class="contact-item">
                        <span>T√©l√©phone</span>
                        <a href="tel:+33751213255">+33 7 51 21 32 55</a>
                    </div>
                    <div class="contact-item">
                        <span>WhatsApp</span>
                        <a href="https://wa.me/33751213255" target="_blank" rel="noopener noreferrer">Discuter en direct</a>
                    </div>
                    <div class="contact-item">
                        <span>üïí Disponibilit√©s</span>
                        24h/24 ‚Äì 7j/7 en √éle-de-France
                    </div>
                </div>
                <div class="contact-actions">
                    <a class="btn-outline" href="mailto:contact@moovecity.fr">Envoyer un email</a>
                    <a class="btn-outline" href="/#faq">Consulter la FAQ</a>
                </div>
            </aside>
        </section>

        <section class="container info-section">
            <div class="card">
                <h3>üöõ Nos v√©hicules disponibles</h3>
                <div class="vehicle-grid">
                    <div class="vehicle-card">
                        <h4>URBAN</h4>
                        <p>6 m¬≥<br>Id√©al pour un studio ou quelques meubles.</p>
                        <p><strong>√Ä partir de 40‚Ç¨</strong></p>
                    </div>
                    <div class="vehicle-card">
                        <h4>EXPRESS</h4>
                        <p>9 m¬≥<br>Livraison express, √©v√©nements, tourn√©e commerciale.</p>
                        <p><strong>√Ä partir de 50‚Ç¨</strong></p>
                    </div>
                    <div class="vehicle-card">
                        <h4>PREMIUM</h4>
                        <p>12 m¬≥<br>D√©m√©nagement T2/T3, mobilier volumineux.</p>
                        <p><strong>√Ä partir de 60‚Ç¨</strong></p>
                    </div>
                    <div class="vehicle-card">
                        <h4>TITAN</h4>
                        <p>20 m¬≥ avec hayon<br>Plateaux palettes, mat√©riels lourds.</p>
                        <p><strong>√Ä partir de 100‚Ç¨</strong></p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Pourquoi choisir Moove City ?</h3>
                <ul class="bullet-list">
                    <li>Chauffeurs exp√©riment√©s et assur√©s pour vos biens.</li>
                    <li>Devis personnalis√©s en quelques minutes par WhatsApp.</li>
                    <li>Service 24/7 partout en √éle-de-France et d√©parts province.</li>
                    <li>Option manutention compl√®te et mat√©riaux de protection.</li>
                    <li>Suivi en temps r√©el et interlocuteur unique jusqu‚Äô√† la livraison.</li>
                </ul>
            </div>
        </section>

        <section class="container cta-strip">
            <h3>Pr√™t √† r√©server votre chauffeur ?</h3>
            <p>Choisissez la solution la plus pratique pour vous, nous intervenons en moins de 2 heures sur Paris et sa r√©gion.</p>
            <div class="cta-strip-actions">
                <a class="btn-primary" href="https://wa.me/33751213255" target="_blank" rel="noopener noreferrer">D√©marrer la discussion WhatsApp</a>
                <a class="btn-outline" href="tel:+33751213255">Appeler Moove City</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer role="contentinfo" id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Moove City</h3>
                    <p style="font-size: 0.95rem;">Votre partenaire de confiance pour tous vos besoins de transport avec chauffeur.</p>
                </div>
                <div class="footer-section">
                    <h4>Liens rapides</h4>
                    <ul>
                        <li><a href="booking.html">R√©server maintenant</a></li>
                        <li><a href="demenagement-paris.html">D√©m√©nagement Paris</a></li>
                        <li><a href="livraison-express.html">Livraison express</a></li>
                        <li><a href="transport-entreprises.html">Transport entreprises</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                        <li><a href="seo/villes-idf.html">Villes desservies</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Nos V√©hicules</h4>
                    <ul>
                        <li><a href="urban.html">URBAN ‚Äî 6 m¬≥</a></li>
                        <li><a href="express.html">EXPRESS ‚Äî 9 m¬≥</a></li>
                        <li><a href="premium.html">PREMIUM ‚Äî 12 m¬≥</a></li>
                        <li><a href="titan.html">TITAN ‚Äî 20 m¬≥</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="demenagement-paris.html">D√©m√©nagements</a></li>
                        <li><a href="livraison-express.html">Livraisons express</a></li>
                        <li><a href="transport-entreprises.html">Transport entreprises</a></li>
                        <li><a href="index.html#galerie">Galerie terrain</a></li>
                        <li><a href="index.html#faq">Questions fr√©quentes</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p>üìû <a href="tel:+33751213255">+33 7 51 21 32 55</a></p>
                    <p style="margin-bottom: 0.75rem;">
                        <a href="https://wa.me/33751213255" target="_blank" rel="noopener noreferrer">
                            üí¨ WhatsApp
                        </a>
                    </p>
                    <p>üìß <a href="mailto:contact@moovecity.fr">contact@moovecity.fr</a></p>
                    <div class="social-links" style="margin-top: 1.75rem;">
                        <h4 style="margin-bottom: 1rem;">Suivez-nous</h4>
                        <div style="display: flex; gap: 0.75rem; align-items: center;">
                            <a href="https://www.facebook.com/profile.php?id=61585097790199" target="_blank" rel="noopener noreferrer" aria-label="Facebook" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; transition: all 0.3s ease; text-decoration: none;">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" style="color: rgba(255, 255, 255, 0.9);">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                            </a>
                            <a href="https://www.instagram.com/moovecity/" target="_blank" rel="noopener noreferrer" aria-label="Instagram" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; transition: all 0.3s ease; text-decoration: none;">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" style="color: rgba(255, 255, 255, 0.9);">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                            </a>
                            <a href="https://www.linkedin.com/company/moovecity" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; transition: all 0.3s ease; text-decoration: none;">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" style="color: rgba(255, 255, 255, 0.9);">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2026 Moove City. Tous droits r√©serv√©s.</p>
                <p>
                    <a href="mentions-legales.html" style="color: rgba(255, 255, 255, 0.8); text-decoration: none;">Mentions l√©gales</a> | 
                    <a href="politique-de-confidentialite.html" style="color: rgba(255, 255, 255, 0.8); text-decoration: none;">Confidentialit√©</a> | 
                    <a href="politique-cookies.html" style="color: rgba(255, 255, 255, 0.8); text-decoration: none;">Cookies</a> | 
                    <a href="conditions-generales.html" style="color: rgba(255, 255, 255, 0.8); text-decoration: none;">CGU</a>
                </p>
                <p>Designed by <strong style="color: white; font-weight: 700;">üëª PhantomDev</strong></p>
            </div>
        </div>
    </footer>

    <script>
        // Auto-fill date with today
        document.getElementById('date').valueAsDate = new Date();

        // Auto-fill time with current time + 1 hour
        const now = new Date();
        now.setHours(now.getHours() + 1);
        document.getElementById('time').value = now.toTimeString().slice(0, 5);

        // Initialiser le calculateur de prix
        setupPriceCalculator();

        // Prix de base par v√©hicule
        const VEHICLE_PRICES = {
            'URBAN': { base: 40, hourly: 18, perKm: 0.75 },
            'EXPRESS': { base: 50, hourly: 22, perKm: 1.0 },
            'PREMIUM': { base: 60, hourly: 26, perKm: 1.25 },
            'TITAN': { base: 100, hourly: 32, perKm: 1.75 }
        };

        // Variables pour stocker la distance calcul√©e
        let calculatedDistance = null;
        let distanceService = null;

        // Fonction de calcul du prix am√©lior√©e
        function calculatePrice(vehicle, duration, distance = null) {
            if (!vehicle || !duration) return null;
            const vehicleData = VEHICLE_PRICES[vehicle];
            if (!vehicleData) return null;
            
            const basePrice = vehicleData.base;
            const hourlyRate = vehicleData.hourly;
            
            // Calcul de base : prix de base + dur√©e
            let totalPrice = basePrice + (duration * hourlyRate);
            
            // Si on a une distance, l'ajouter au calcul
            if (distance && distance > 0) {
                const distanceCost = distance * vehicleData.perKm;
                totalPrice += distanceCost;
            }
            
            // Majoration weekend (samedi = 6, dimanche = 0)
            const dateInput = document.getElementById('date');
            if (dateInput && dateInput.value) {
                const selectedDate = new Date(dateInput.value);
                const dayOfWeek = selectedDate.getDay();
                if (dayOfWeek === 0 || dayOfWeek === 6) {
                    totalPrice = totalPrice * 1.1; // +10% le weekend
                }
            }
            
            // Majoration heures de pointe (7h-9h et 17h-19h)
            const timeInput = document.getElementById('time');
            if (timeInput && timeInput.value) {
                const hour = parseInt(timeInput.value.split(':')[0]);
                if ((hour >= 7 && hour < 9) || (hour >= 17 && hour < 19)) {
                    totalPrice = totalPrice * 1.15; // +15% en heures de pointe
                }
            }
            
            return Math.round(totalPrice);
        }

        // Fonction pour calculer la distance entre deux adresses
        function calculateDistanceBetweenAddresses(departure, arrival, callback) {
            // V√©rifier que Google Maps est charg√©
            if (!window.google || !window.google.maps || !window.google.maps.DistanceMatrixService) {
                callback(null);
                return;
            }

            if (!distanceService) {
                try {
                    distanceService = new google.maps.DistanceMatrixService();
                } catch (e) {
                    console.log('Erreur lors de l\'initialisation du service de distance:', e);
                    callback(null);
                    return;
                }
            }

            if (!departure || !arrival || departure.trim() === '' || arrival.trim() === '') {
                callback(null);
                return;
            }

            distanceService.getDistanceMatrix({
                origins: [departure],
                destinations: [arrival],
                travelMode: google.maps.TravelMode.DRIVING,
                unitSystem: google.maps.UnitSystem.METRIC
            }, function(response, status) {
                if (status === 'OK' && response.rows[0] && response.rows[0].elements[0]) {
                    const element = response.rows[0].elements[0];
                    if (element.status === 'OK') {
                        const distanceKm = element.distance.value / 1000; // Convertir en km
                        calculatedDistance = distanceKm;
                        callback(distanceKm);
                    } else {
                        callback(null);
                    }
                } else {
                    callback(null);
                }
            });
        }

        // Fonction pour mettre √† jour l'affichage du prix
        function updatePriceDisplay() {
            const vehicle = document.getElementById('vehicle').value;
            const duration = parseFloat(document.getElementById('duration').value);
            const priceEstimateDiv = document.getElementById('priceEstimate');
            const priceValueSpan = document.getElementById('estimatedPriceValue');
            const priceDetailsDiv = document.getElementById('priceDetails');

            if (!vehicle || !duration || duration <= 0) {
                priceEstimateDiv.style.display = 'none';
                return;
            }

            // Calculer le prix avec la distance si disponible
            const price = calculatePrice(vehicle, duration, calculatedDistance);
            
            if (price) {
                priceValueSpan.textContent = price;
                
                // Construire les d√©tails du prix
                const vehicleData = VEHICLE_PRICES[vehicle];
                let details = `Prix de base : ${vehicleData.base}‚Ç¨ + ${duration}h √ó ${vehicleData.hourly}‚Ç¨/h`;
                
                if (calculatedDistance) {
                    const distanceCost = Math.round(calculatedDistance * vehicleData.perKm);
                    details += ` + ${calculatedDistance.toFixed(1)}km √ó ${vehicleData.perKm}‚Ç¨/km (${distanceCost}‚Ç¨)`;
                }
                
                // V√©rifier les majorations
                const dateInput = document.getElementById('date');
                const timeInput = document.getElementById('time');
                let surcharges = [];
                
                if (dateInput && dateInput.value) {
                    const selectedDate = new Date(dateInput.value);
                    const dayOfWeek = selectedDate.getDay();
                    if (dayOfWeek === 0 || dayOfWeek === 6) {
                        surcharges.push('Weekend (+10%)');
                    }
                }
                
                if (timeInput && timeInput.value) {
                    const hour = parseInt(timeInput.value.split(':')[0]);
                    if ((hour >= 7 && hour < 9) || (hour >= 17 && hour < 19)) {
                        surcharges.push('Heures de pointe (+15%)');
                    }
                }
                
                if (surcharges.length > 0) {
                    details += ' | ' + surcharges.join(', ');
                }
                
                priceDetailsDiv.textContent = details;
                priceEstimateDiv.style.display = 'block';
            } else {
                priceEstimateDiv.style.display = 'none';
            }
        }

        // Ajouter les event listeners pour mettre √† jour le prix en temps r√©el
        function setupPriceCalculator() {
            const vehicleSelect = document.getElementById('vehicle');
            const durationInput = document.getElementById('duration');
            const departureInput = document.getElementById('departure');
            const arrivalInput = document.getElementById('arrival');
            const dateInput = document.getElementById('date');
            const timeInput = document.getElementById('time');

            // Mettre √† jour le prix quand le v√©hicule ou la dur√©e change
            if (vehicleSelect) {
                vehicleSelect.addEventListener('change', updatePriceDisplay);
            }
            if (durationInput) {
                durationInput.addEventListener('input', updatePriceDisplay);
                durationInput.addEventListener('change', updatePriceDisplay);
            }
            if (dateInput) {
                dateInput.addEventListener('change', updatePriceDisplay);
            }
            if (timeInput) {
                timeInput.addEventListener('change', updatePriceDisplay);
            }

            // Calculer la distance quand les adresses changent (avec d√©lai pour √©viter trop de requ√™tes)
            let distanceTimeout;
            function updateDistance() {
                clearTimeout(distanceTimeout);
                distanceTimeout = setTimeout(() => {
                    const departure = departureInput.value.trim();
                    const arrival = arrivalInput.value.trim();
                    
                    // V√©rifier que Google Maps est disponible avant de calculer la distance
                    if (departure && arrival && departure.length > 5 && arrival.length > 5) {
                        if (window.google && window.google.maps && window.google.maps.DistanceMatrixService) {
                            calculateDistanceBetweenAddresses(departure, arrival, function(distance) {
                                updatePriceDisplay();
                            });
                        } else {
                            // Si Google Maps n'est pas encore charg√©, on calcule sans distance
                            calculatedDistance = null;
                            updatePriceDisplay();
                        }
                    } else {
                        calculatedDistance = null;
                        updatePriceDisplay();
                    }
                }, 800); // Attendre 800ms apr√®s la derni√®re frappe
            }

            if (departureInput) {
                departureInput.addEventListener('blur', updateDistance);
                departureInput.addEventListener('change', updateDistance);
            }
            if (arrivalInput) {
                arrivalInput.addEventListener('blur', updateDistance);
                arrivalInput.addEventListener('change', updateDistance);
            }

            // Calcul initial si des valeurs sont d√©j√† pr√©sentes
            setTimeout(updatePriceDisplay, 500);
        }

        function sendQuoteRequest() {
            const honey = document.getElementById('honey').value;
            if (honey) {
                return;
            }

            const departure = document.getElementById('departure').value.trim();
            const arrival = document.getElementById('arrival').value.trim();
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const vehicle = document.getElementById('vehicle').value;
            const duration = parseFloat(document.getElementById('duration').value);
            const description = document.getElementById('description').value.trim();
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();

            // Validation
            if (!departure || !arrival || !date || !time || !name || !phone || !duration) {
                showErrorMessage('Veuillez remplir tous les champs obligatoires marqu√©s d\'un *');
                return;
            }

            // Calcul du prix estim√© (avec distance si disponible)
            let estimatedPrice = null;
            if (vehicle && duration) {
                estimatedPrice = calculatePrice(vehicle, duration, calculatedDistance);
            }

            // Fonction pour formater la date (r√©utilisable)
            function formatDateForEmail(dateString) {
                if (!dateString) return '';
                const date = new Date(dateString);
                const days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];
                const months = ['janvier', 'f√©vrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'ao√ªt', 'septembre', 'octobre', 'novembre', 'd√©cembre'];
                const dayName = days[date.getDay()];
                const day = date.getDate();
                const month = months[date.getMonth()];
                const year = date.getFullYear();
                return `${dayName} ${day} ${month} ${year}`;
            }

            // Pr√©parer les donn√©es pour l'email (version am√©lior√©e)
            let emailBody = `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            emailBody += `NOUVELLE DEMANDE DE DEVIS - MOOVE CITY\n`;
            emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            
            emailBody += `üìã D√âTAILS DU TRANSPORT\n`;
            emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            emailBody += `üìç D√©part : ${departure}\n`;
            emailBody += `üìç Arriv√©e : ${arrival}\n`;
            
            if (calculatedDistance) {
                emailBody += `üìè Distance : ${calculatedDistance.toFixed(1)} km\n`;
            }
            
            emailBody += `üìÖ Date souhait√©e : ${formatDateForEmail(date)}\n`;
            emailBody += `üïê Heure souhait√©e : ${time}\n`;
            
            if (vehicle) {
                const vehicleNames = {
                    'URBAN': 'URBAN ‚Äî 6 m¬≥',
                    'EXPRESS': 'EXPRESS ‚Äî 9 m¬≥',
                    'PREMIUM': 'PREMIUM ‚Äî 12 m¬≥',
                    'TITAN': 'TITAN ‚Äî 20 m¬≥ avec hayon'
                };
                emailBody += `üöõ V√©hicule souhait√© : ${vehicleNames[vehicle] || vehicle}\n`;
            }
            
            emailBody += `‚è±Ô∏è Dur√©e estim√©e : ${duration} heure(s)\n\n`;
            
            if (estimatedPrice) {
                emailBody += `üí∞ ESTIMATION DU PRIX\n`;
                emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                emailBody += `Prix estim√© : ${estimatedPrice}‚Ç¨\n\n`;
                
                const vehicleData = VEHICLE_PRICES[vehicle];
                if (vehicleData) {
                    emailBody += `D√©tail du calcul :\n`;
                    emailBody += `‚Ä¢ Prix de base : ${vehicleData.base}‚Ç¨\n`;
                    emailBody += `‚Ä¢ Dur√©e (${duration}h √ó ${vehicleData.hourly}‚Ç¨/h) : ${(duration * vehicleData.hourly).toFixed(0)}‚Ç¨\n`;
                    if (calculatedDistance) {
                        const distanceCost = calculatedDistance * vehicleData.perKm;
                        emailBody += `‚Ä¢ Distance (${calculatedDistance.toFixed(1)}km √ó ${vehicleData.perKm}‚Ç¨/km) : ${distanceCost.toFixed(0)}‚Ç¨\n`;
                    }
                    
                    // Ajouter les majorations si applicable
                    const dateInput = document.getElementById('date');
                    const timeInput = document.getElementById('time');
                    let surcharges = [];
                    
                    if (dateInput && dateInput.value) {
                        const selectedDate = new Date(dateInput.value);
                        const dayOfWeek = selectedDate.getDay();
                        if (dayOfWeek === 0 || dayOfWeek === 6) {
                            surcharges.push('Majoration weekend (+10%)');
                        }
                    }
                    
                    if (timeInput && timeInput.value) {
                        const hour = parseInt(timeInput.value.split(':')[0]);
                        if ((hour >= 7 && hour < 9) || (hour >= 17 && hour < 19)) {
                            surcharges.push('Majoration heures de pointe (+15%)');
                        }
                    }
                    
                    if (surcharges.length > 0) {
                        emailBody += `‚Ä¢ ${surcharges.join(' + ')}\n`;
                    }
                }
                emailBody += `\n‚ö†Ô∏è Prix indicatif - Le tarif final peut varier selon les contraintes d'acc√®s et conditions r√©elles.\n\n`;
            }
            
            if (description) {
                emailBody += `üìù INFORMATIONS COMPL√âMENTAIRES\n`;
                emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                emailBody += `${description}\n\n`;
            }
            
            emailBody += `üë§ COORDONN√âES DU CLIENT\n`;
            emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            emailBody += `Nom : ${name}\n`;
            emailBody += `T√©l√©phone : ${phone}\n\n`;
            
            emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            emailBody += `Demande re√ßue le ${new Date().toLocaleString('fr-FR', { dateStyle: 'full', timeStyle: 'short' })}\n`;
            emailBody += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;

            // Ajouter un champ cach√© pour le message complet
            let messageField = document.getElementById('quote-message-field');
            if (!messageField) {
                messageField = document.createElement('input');
                messageField.type = 'hidden';
                messageField.id = 'quote-message-field';
                messageField.name = 'Message';
                document.getElementById('quoteForm').appendChild(messageField);
            }
            messageField.value = emailBody;

            // Formater la date en fran√ßais (pour WhatsApp)
            function formatDate(dateString) {
                if (!dateString) return '';
                const date = new Date(dateString);
                const days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];
                const months = ['janvier', 'f√©vrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'ao√ªt', 'septembre', 'octobre', 'novembre', 'd√©cembre'];
                const dayName = days[date.getDay()];
                const day = date.getDate();
                const month = months[date.getMonth()];
                const year = date.getFullYear();
                return `${dayName} ${day} ${month} ${year}`;
            }

            // Formater l'heure
            function formatTime(timeString) {
                if (!timeString) return '';
                const [hours, minutes] = timeString.split(':');
                return `${hours}h${minutes}`;
            }

            // Obtenir le nom complet du v√©hicule
            function getVehicleFullName(vehicleKey) {
                const vehicleNames = {
                    'URBAN': 'URBAN ‚Äî 6 m¬≥',
                    'EXPRESS': 'EXPRESS ‚Äî 9 m¬≥',
                    'PREMIUM': 'PREMIUM ‚Äî 12 m¬≥',
                    'TITAN': 'TITAN ‚Äî 20 m¬≥ avec hayon'
                };
                return vehicleNames[vehicleKey] || vehicleKey;
            }

            // Create WhatsApp message am√©lior√©
            let message = `üöõ *Demande de devis - Moove City*\n\n`;
            message += `Bonjour ! üëã\n\n`;
            message += `Je souhaite obtenir un devis personnalis√© pour un transport avec chauffeur.\n\n`;
            
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìã *D√âTAILS DU TRANSPORT*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            
            message += `üìç *D√©part :*\n${departure}\n\n`;
            message += `üìç *Arriv√©e :*\n${arrival}\n\n`;
            
            if (calculatedDistance) {
                message += `üìè *Distance :* ${calculatedDistance.toFixed(1)} km\n\n`;
            }
            
            message += `üìÖ *Date souhait√©e :*\n${formatDate(date)}\n\n`;
            message += `üïê *Heure souhait√©e :*\n${formatTime(time)}\n\n`;
            
            if (vehicle) {
                message += `üöõ *V√©hicule souhait√© :*\n${getVehicleFullName(vehicle)}\n\n`;
            }
            
            if (duration) {
                message += `‚è±Ô∏è *Dur√©e estim√©e :*\n${duration} heure(s)\n\n`;
            }
            
            if (estimatedPrice) {
                const vehicleData = VEHICLE_PRICES[vehicle];
                message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                message += `üí∞ *ESTIMATION DU PRIX*\n`;
                message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                message += `*Prix estim√© : ${estimatedPrice}‚Ç¨*\n\n`;
                message += `D√©tail du calcul :\n`;
                message += `‚Ä¢ Prix de base : ${vehicleData.base}‚Ç¨\n`;
                message += `‚Ä¢ Dur√©e (${duration}h √ó ${vehicleData.hourly}‚Ç¨/h) : ${(duration * vehicleData.hourly).toFixed(0)}‚Ç¨\n`;
                if (calculatedDistance) {
                    const distanceCost = calculatedDistance * vehicleData.perKm;
                    message += `‚Ä¢ Distance (${calculatedDistance.toFixed(1)}km √ó ${vehicleData.perKm}‚Ç¨/km) : ${distanceCost.toFixed(0)}‚Ç¨\n`;
                }
                
                // Ajouter les majorations si applicable
                const dateInput = document.getElementById('date');
                const timeInput = document.getElementById('time');
                let surcharges = [];
                
                if (dateInput && dateInput.value) {
                    const selectedDate = new Date(dateInput.value);
                    const dayOfWeek = selectedDate.getDay();
                    if (dayOfWeek === 0 || dayOfWeek === 6) {
                        surcharges.push('Majoration weekend (+10%)');
                    }
                }
                
                if (timeInput && timeInput.value) {
                    const hour = parseInt(timeInput.value.split(':')[0]);
                    if ((hour >= 7 && hour < 9) || (hour >= 17 && hour < 19)) {
                        surcharges.push('Majoration heures de pointe (+15%)');
                    }
                }
                
                if (surcharges.length > 0) {
                    message += `‚Ä¢ ${surcharges.join(' + ')}\n`;
                }
                
                message += `\n‚ö†Ô∏è *Prix indicatif* - Le tarif final peut varier selon les contraintes d'acc√®s, options suppl√©mentaires et conditions r√©elles du trajet.\n\n`;
            }
            
            if (description) {
                message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                message += `üìù *INFORMATIONS COMPL√âMENTAIRES*\n`;
                message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                message += `${description}\n\n`;
            }

            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üë§ *MES COORDONN√âES*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `Nom : ${name}\n`;
            message += `T√©l√©phone : ${phone}\n\n`;
            
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `üí¨ *MODE DE PAIEMENT ACCEPT√â :*\n`;
            message += `‚Ä¢ Esp√®ces\n`;
            message += `‚Ä¢ Carte bancaire\n`;
            message += `‚Ä¢ Cryptomonnaie\n\n`;
            
            message += `‚ú® *SERVICE DISPONIBLE 24h/24 et 7j/7*\n\n`;
            message += `Merci de me confirmer la disponibilit√© et le devis finalis√©. Je reste disponible pour toute question ! üôè\n\n`;
            message += `Cordialement,\n${name}`;

            // Track the event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'quote_request', {
                    'event_category': 'booking',
                    'event_label': 'Demande de devis depuis booking.html',
                    'value': 1
                });
            }

            // Ouvrir WhatsApp
            const whatsappUrl = `https://wa.me/33751213255?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Rediriger vers la page de remerciement
            window.location.href = 'merci.html';
        }

        // Fonction d'initialisation de l'autocompl√©tion pour booking.html
        function initBookingPlacesAutocomplete() {
            if (!(window.google && google.maps && google.maps.places)) {
                return false;
            }

            const departureInput = document.getElementById('departure');
            const arrivalInput = document.getElementById('arrival');

            if (!departureInput || !arrivalInput) {
                return false;
            }

            if (departureInput.getAttribute('data-autocomplete-initialized') === 'true') {
                return true;
            }

            try {
                const autocompleteService = new google.maps.places.AutocompleteService();
                
                function setupCustomAutocomplete(input, fieldName) {
                    let container = null;
                    let selectedIndex = -1;
                    let predictions = [];
                    
                    container = document.createElement('div');
                    container.className = 'pac-container custom-autocomplete';
                    container.style.cssText = 'position: absolute; z-index: 999999; background: white; border: 1px solid #e9ecef; border-radius: 8px; box-shadow: 0 8px 32px rgba(0,0,0,0.16); max-height: 300px; overflow-y: auto; display: none; width: 100%; margin-top: 5px;';
                    
                    const formRow = input.closest('.form-row > div');
                    if (formRow) {
                        formRow.style.position = 'relative';
                        formRow.appendChild(container);
                    } else {
                        input.parentNode.appendChild(container);
                    }
                    
                    function showSuggestions(preds) {
                        predictions = preds || [];
                        if (predictions.length === 0) {
                            container.style.display = 'none';
                            return;
                        }
                        
                        container.innerHTML = '';
                        selectedIndex = -1;
                        
                        predictions.forEach((prediction, index) => {
                            const item = document.createElement('div');
                            item.className = 'pac-item';
                            item.style.cssText = 'padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #e9ecef; transition: background 0.2s;';
                            item.innerHTML = '<div style="font-weight: 600; color: #2c3e50;">' + prediction.structured_formatting.main_text + '</div><div style="color: #6c757d; font-size: 0.9em; margin-top: 4px;">' + prediction.structured_formatting.secondary_text + '</div>';
                            
                            item.addEventListener('mouseenter', () => {
                                item.style.background = '#f8f9fa';
                            });
                            item.addEventListener('mouseleave', () => {
                                item.style.background = 'white';
                            });
                            item.addEventListener('click', () => {
                                selectPlace(prediction);
                            });
                            
                            container.appendChild(item);
                        });
                        
                        container.style.display = 'block';
                    }
                    
                    let isSelecting = false;
                    
                    function selectPlace(prediction) {
                        // Marquer qu'on est en train de s√©lectionner
                        isSelecting = true;
                        
                        // Fermer imm√©diatement le conteneur
                        container.style.display = 'none';
                        container.innerHTML = '';
                        
                        // Mettre la valeur de la pr√©diction en attendant les d√©tails complets
                        input.value = prediction.description || prediction.structured_formatting.main_text + ', ' + prediction.structured_formatting.secondary_text;
                        
                        const service = new google.maps.places.PlacesService(document.createElement('div'));
                        service.getDetails({
                            placeId: prediction.place_id,
                            fields: ['formatted_address', 'geometry', 'name', 'address_components']
                        }, (place, status) => {
                            if (status === google.maps.places.PlacesServiceStatus.OK && place) {
                                input.value = place.formatted_address;
                                input.setAttribute('data-full-address', place.formatted_address);
                            }
                            // R√©initialiser le flag apr√®s un court d√©lai
                            setTimeout(() => {
                                isSelecting = false;
                            }, 100);
                        });
                    }
                    
                    let timeout;
                    input.addEventListener('input', (e) => {
                        // Ne pas afficher les suggestions si on vient de s√©lectionner
                        if (isSelecting) {
                            return;
                        }
                        
                        clearTimeout(timeout);
                        const query = e.target.value.trim();
                        
                        if (query.length < 1) {
                            container.style.display = 'none';
                            return;
                        }
                        
                        timeout = setTimeout(() => {
                            autocompleteService.getPlacePredictions({
                                input: query,
                                componentRestrictions: { country: 'fr' },
                                types: ['address']
                            }, (preds, status) => {
                                if (status === google.maps.places.PlacesServiceStatus.OK && preds) {
                                    showSuggestions(preds);
                                } else {
                                    container.style.display = 'none';
                                }
                            });
                        }, 150);
                    });
                    
                    input.addEventListener('keydown', (e) => {
                        const items = container.querySelectorAll('.pac-item');
                        if (items.length === 0) return;
                        
                        if (e.key === 'ArrowDown') {
                            e.preventDefault();
                            selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                            items[selectedIndex].scrollIntoView({ block: 'nearest' });
                            items.forEach((item, i) => {
                                item.style.background = i === selectedIndex ? '#f8f9fa' : 'white';
                            });
                        } else if (e.key === 'ArrowUp') {
                            e.preventDefault();
                            selectedIndex = Math.max(selectedIndex - 1, -1);
                            items.forEach((item, i) => {
                                item.style.background = i === selectedIndex ? '#f8f9fa' : 'white';
                            });
                        } else if (e.key === 'Enter' && selectedIndex >= 0) {
                            e.preventDefault();
                            selectPlace(predictions[selectedIndex]);
                        }
                    });
                    
                    document.addEventListener('click', (e) => {
                        if (!input.contains(e.target) && !container.contains(e.target)) {
                            container.style.display = 'none';
                        }
                    });
                }
                
                setupCustomAutocomplete(departureInput, 'd√©part');
                setupCustomAutocomplete(arrivalInput, 'arriv√©e');
                
                departureInput.setAttribute('data-autocomplete-initialized', 'true');
                arrivalInput.setAttribute('data-autocomplete-initialized', 'true');
                
                return true;
            } catch (error) {
                return false;
            }
        }

        // Callback pour initialiser l'autocompl√©tion quand Google Maps est charg√©
        window.initBookingAutocomplete = function () {
            function tryInit() {
                if (initBookingPlacesAutocomplete()) {
                    // Une fois Google Maps charg√©, r√©initialiser le calculateur de distance
                    if (typeof setupPriceCalculator === 'function') {
                        // Recalculer la distance si des adresses sont d√©j√† renseign√©es
                        const departure = document.getElementById('departure');
                        const arrival = document.getElementById('arrival');
                        if (departure && arrival && departure.value.trim() && arrival.value.trim()) {
                            setTimeout(() => {
                                calculateDistanceBetweenAddresses(
                                    departure.value.trim(), 
                                    arrival.value.trim(), 
                                    function(distance) {
                                        updatePriceDisplay();
                                    }
                                );
                            }, 500);
                        }
                    }
                    return;
                }
                setTimeout(tryInit, 200);
            }
            
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(tryInit, 300);
                });
            } else {
                setTimeout(tryInit, 300);
            }
        };
        
        window.initBookingPlacesAutocomplete = initBookingPlacesAutocomplete;
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                let checkCount = 0;
                const checkInterval = setInterval(function() {
                    checkCount++;
                    if (window.google && window.google.maps && window.google.maps.places) {
                        clearInterval(checkInterval);
                        initBookingPlacesAutocomplete();
                    } else if (checkCount >= 25) {
                        clearInterval(checkInterval);
                    }
                }, 200);
            });
        } else {
            let checkCount = 0;
            const checkInterval = setInterval(function() {
                checkCount++;
                if (window.google && window.google.maps && window.google.maps.places) {
                    clearInterval(checkInterval);
                    initBookingPlacesAutocomplete();
                } else if (checkCount >= 25) {
                    clearInterval(checkInterval);
                }
            }, 200);
        }

        function showErrorMessage(message, success = false) {
            const errorBox = document.getElementById('formError');
            errorBox.style.display = 'block';
            errorBox.style.background = success ? '#ecfdf5' : '#fee2e2';
            errorBox.style.borderColor = success ? '#6ee7b7' : '#fca5a5';
            errorBox.style.color = success ? '#047857' : '#b91c1c';
            errorBox.textContent = message;

            if (success) {
                setTimeout(() => {
                    errorBox.style.display = 'none';
                }, 4000);
            }
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBj-30c7SBJUcHHdw_hBT17jtH__NRz0L8&libraries=places&loading=async&callback=initBookingAutocomplete" async defer></script>
</body>
</html>